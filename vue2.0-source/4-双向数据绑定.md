Vue中的数据绑定是通过数据劫持的方式来实现的 其中核心的便是 Object.defineProperty()

双向数据绑定 简单的说 分为三部分

1.Observer 这里的主要工作是递归地监听对象上的所有属性 在属性值改变的时候 触发相应的watcher

2.Watcher 观察者 当监听数据变化时 执行响应的回调函数（Vue里的更新模板的内容）

3.Dep 连接 Observer 和 Watcher 的桥梁 每一个 Observer 对应的一个Dep 它内部维护一个数据 保存与该 Observer 相关的Watcher

数据绑定demo

第一部分 Observer

```javascript
function Observer(obj, key, value){
	var dep = new Dep();
	if (Object.prototype.toString.call(value) == '[object Object]') {
		Object.keys(value).forEach(function(key){
			new Observer(value,key,value[key])
		})
	};

	Object.defineProperty(obj, key, {
		enumerable: true,
    	configurable: true,
    	get: function(){
    		if (Dep.target) {
    			dep.addSub(Dep.target);
    		};
    		return value;
    	},
    	set: function(newVal){
    		value = newVal;
    		dep.notify();
    	}
	})
}
```
