我们学习阅读一个项目的源码时 首先要看 package.json 文件 
这里有项目的依赖 有开发环境 生产环境等编译的启动脚本 有项目的许可文件
我们发现script中有许多npm命令
npm run dev

"dev": "rollup -w -c scripts/config.js --environment TARGET:web-full-dev"

我们发这里用到了 rollup  感兴趣可以了解下 这里并不是重点 我们只需知道它是一个类似于webpack的打包工具
往后我们发现它执行了 scripts/config.js 

```javascript
const builds = {
  ...
  // Runtime+compiler development build (Browser)
  'web-full-dev': {
    entry: resolve('web/entry-runtime-with-compiler.js'),
    dest: resolve('dist/vue.js'),
    format: 'umd',
    env: 'development',
    alias: { he: './entity-decoder' },
    banner
  },
  ...
}

function genConfig (name) {
  const opts = builds[name]
  const config = {
    input: opts.entry,
    external: opts.external,
    plugins: [
      replace({
        __WEEX__: !!opts.weex,
        __WEEX_VERSION__: weexVersion,
        __VERSION__: version
      }),
      flow(),
      buble(),
      alias(Object.assign({}, aliases, opts.alias))
    ].concat(opts.plugins || []),
    output: {
      file: opts.dest,
      format: opts.format,
      banner: opts.banner,
      name: opts.moduleName || 'Vue'
    }
  }

  if (opts.env) {
    config.plugins.push(replace({
      'process.env.NODE_ENV': JSON.stringify(opts.env)
    }))
  }

  Object.defineProperty(config, '_name', {
    enumerable: false,
    value: name
  })

  return config
}

if (process.env.TARGET) {
  module.exports = genConfig(process.env.TARGET)
} else {
  exports.getBuild = genConfig
  exports.getAllBuilds = () => Object.keys(builds).map(genConfig)
}
```

genConfig用于生成 rollup 的配置文件 我们看到dev中有 TARGET:web-full-dev 参数 即上面的配置

这样入口文件就是 web/entry-runtime-with-compiler.js

打开 src/platform/web/entry-runtime-with-compiler.js文件 可以看到

import Vue from './runtime/index'

即引用了同一目录下的另一个文件

=> import Vue from 'core/index'

=> import Vue from './instance/index'

```javascript
import { initMixin } from './init'
import { stateMixin } from './state'
import { renderMixin } from './render'
import { eventsMixin } from './events'
import { lifecycleMixin } from './lifecycle'
import { warn } from '../util/index'

function Vue (options) {
  if (process.env.NODE_ENV !== 'production' &&
    !(this instanceof Vue)
  ) {
    warn('Vue is a constructor and should be called with the `new` keyword')
  }
  this._init(options)
}

initMixin(Vue)
stateMixin(Vue)
eventsMixin(Vue)
lifecycleMixin(Vue)
renderMixin(Vue)

export default Vue
```

终于找到了定义Vue对象的所在之处 构造函数及其简单

```javascript
function Vue (options) {
  if (process.env.NODE_ENV !== 'production' &&
    !(this instanceof Vue)
  ) {
    warn('Vue is a constructor and should be called with the `new` keyword')
  }
  this._init(options)
}
```